
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installing CocoaPods &#8212; BlueCats Docs 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>Lets start using the Beacons with Swift using the BlueCats SDK.</p>
<div class="section" id="installing-cocoapods">
<h1>Installing CocoaPods<a class="headerlink" href="#installing-cocoapods" title="Permalink to this headline">¶</a></h1>
<p>The BlueCatsSDK static library is installed using CocoaPods.
<a class="reference external" href="https://cocoapods.org/">CocoaPods</a> is an Objective-C library
dependency manager.</p>
<ol class="arabic">
<li><p class="first">Open your terminal</p>
</li>
<li><p class="first">Install CocoaPods using the commands below</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Xcode 7 + 8</span>
<span class="n">sudo</span> <span class="n">gem</span> <span class="n">install</span> <span class="n">cocoapods</span>
</pre></div>
</div>
</li>
<li><p class="first">Once your CocoaPods are installed, create your XCode project. We’re
going to call ours <code class="docutils literal notranslate"><span class="pre">myBCSwiftProject</span></code> and save it to our desktop</p>
</li>
<li><p class="first">Close out Xcode</p>
</li>
<li><p class="first">Change directories to your new project and initialize your pod</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">Desktop</span><span class="o">/</span><span class="n">myBCSwiftProject</span>
<span class="n">pod</span> <span class="n">init</span>
</pre></div>
</div>
</li>
<li><p class="first">Open the <code class="docutils literal notranslate"><span class="pre">Podfile</span></code> with your favorite text editor. Add our pod
dependencies, and specify your app as the new target</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>platform :ios, &#39;8.0&#39;
use_frameworks!

target &#39;myBCSwiftProject&#39; do
    pod &#39;BlueCatsSDK&#39;, :git =&gt; &#39;https://github.com/bluecats/bluecats-ios-sdk.git&#39;
end
</pre></div>
</div>
</li>
<li><p class="first">Save and close the file</p>
</li>
<li><p class="first">Reopen your terminal install and update your dependencies</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pod</span> <span class="n">install</span>
</pre></div>
</div>
</li>
<li><p class="first">Once your dependencies have been installed. You need to open the
Xcode workspace rather than the project file when building your
project</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">open</span> <span class="n">myBCSwiftProject</span><span class="o">.</span><span class="n">xcworkspace</span>
</pre></div>
</div>
<p>You can close the terminal. The rest of the tutorial will only
require using Xcode</p>
</li>
</ol>
</div>
<div class="section" id="creating-the-objective-c-bridging-header">
<h1>Creating the Objective-C Bridging Header<a class="headerlink" href="#creating-the-objective-c-bridging-header" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>Open up your Xcode Project, and create a new Objective-C file (it
doesn’t matter what we name it because we are deleting it shortly)</li>
<li>You will be prefaced asking if you want to create an Objective-C
Bridging Header. Click “Create Bridging Header”</li>
</ol>
<div class="figure" id="id1">
<img alt="Bridging-Header" src="https://s3-us-west-1.amazonaws.com/github-photos/DeveloperDocs/GettingStartedWithSwift/Bridging-Header.png" />
<p class="caption"><span class="caption-text">Bridging-Header</span></p>
</div>
<ol class="arabic simple" start="3">
<li>Delete your Objective-C file</li>
<li>Insert the line <code class="docutils literal notranslate"><span class="pre">#import</span> <span class="pre">&quot;BlueCatsSDK.h&quot;</span></code> into your newly formed
header file</li>
</ol>
</div>
<div class="section" id="requirements-and-privacy-settings">
<h1>Requirements and Privacy Settings<a class="headerlink" href="#requirements-and-privacy-settings" title="Permalink to this headline">¶</a></h1>
<p>When using BlueCats SDK in an iOS app there are a number of static
descriptions required to explain how the app will use Bluetooth and
Beacon technology. These are used by iOS to customize permission prompts
when requested by the app. These are included in the application plist
file as explained below. For more information click
<a class="reference external" href="https://developer.bluecats.com/guides/ios-sdk-installation-c99b3b62-a271-4321-9c29-ce61699fce4f#requirements">here</a>.</p>
<p>We will be using these two properties:</p>
<ul class="simple">
<li><a class="reference external" href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/plist/info/NSBluetoothPeripheralUsageDescription">Bluetooth Peripheral Usage
Description</a>:
This key lets you describe the reason your app uses Bluetooth. When
the system prompts the user to allow usage, the value that you
provide for this key is displayed as part of the alert.</li>
<li><a class="reference external" href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/plist/info/NSLocationWhenInUseUsageDescription">Location When In Use Usage
Description</a>:
This key lets you describe the reason your app accesses the user’s
location information while your app runs in the foreground and
otherwise when in use. Include this key when your app uses location
services to track the user’s current location directly.</li>
</ul>
<ol class="arabic">
<li><p class="first">Go to your project files and open <code class="docutils literal notranslate"><span class="pre">Info.plist</span></code></p>
</li>
<li><p class="first">Under Information Property List, add the keys with the values:</p>
<p><strong>Privacy - Bluetooth Peripheral Usage Description</strong> We use Bluetooth
to transfer data to beacons to update settings or firmware.</p>
<p><strong>Privacy - Location When In Use Usage Description</strong> We use your
location to provide information based on your location in store.</p>
<div class="figure" id="id2">
<img alt="Swift-Plist" src="https://s3-us-west-1.amazonaws.com/github-photos/DeveloperDocs/GettingStartedWithSwift/Swift-Plist.png" />
<p class="caption"><span class="caption-text">Swift-Plist</span></p>
</div>
<p>Lastly, we need to enable the Bluetooth LE Background mode.</p>
</li>
<li><p class="first">Go to the <code class="docutils literal notranslate"><span class="pre">Capabilities</span></code> Tab</p>
</li>
<li><p class="first">Turn on Background Modes</p>
</li>
<li><p class="first">Then check <code class="docutils literal notranslate"><span class="pre">Uses</span> <span class="pre">Bluetooth</span> <span class="pre">LE</span> <span class="pre">accessories</span></code></p>
</li>
</ol>
<div class="figure" id="id3">
<img alt="uses-BLE-acessories" src="https://s3-us-west-1.amazonaws.com/sdk-guide/gelato/usesLEAccessories.png" />
<p class="caption"><span class="caption-text">uses-BLE-acessories</span></p>
</div>
<p>For more information please see <a class="reference external" href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple_ref/doc/uid/TP40009252-SW22">UIBackground
Modes</a>.</p>
<p>The SDK limits total background scanning time to manage battery
efficiency. These can be customized with the following <a class="reference external" href="https://developer.bluecats.com/docs/versions/3.0/sdk-options#ios-specific">SDK
Options</a>:</p>
</div>
<div class="section" id="adding-your-swift-code">
<h1>Adding your Swift Code<a class="headerlink" href="#adding-your-swift-code" title="Permalink to this headline">¶</a></h1>
<p>To begin ranging your beacons, call the startPurring or
startPurringWithAppToken methods of the BlueCatsSDK. App tokens can be
obtained from the apps section of the <a class="reference external" href="https://app.bluecats.com/apps">BlueCats web
app</a>. The login used for
app.bluecats.com is not the same login used to access our developer
portal. If you did not receive a login with your beacons contact
<a class="reference external" href="mailto:support&#37;&#52;&#48;bluecats&#46;com">support<span>&#64;</span>bluecats<span>&#46;</span>com</a>.</p>
<p>Go to your project files and paste this code into <code class="docutils literal notranslate"><span class="pre">AppDelegate.swift</span></code>.
Replace the first func application, so it looks like the code below.</p>
<div class="code swift highlight-default notranslate"><div class="highlight"><pre><span></span>func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -&gt; Bool {
        // Override point for customization after application launch.
        BlueCatsSDK.startPurring(withAppToken: &quot;BLueCaTs-Apps-toKN-fRom-webDashBoarD&quot;, completion: { (BCStatus) -&gt; Void in
            let appTokenVerificationStatus: BCAppTokenVerificationStatus = BlueCatsSDK.appTokenVerificationStatus()
            if (appTokenVerificationStatus == .notProvided || appTokenVerificationStatus == .invalid){
            }
            if (!BlueCatsSDK.isLocationAuthorized()){
                BlueCatsSDK.requestWhenInUseLocationAuthorization()
            }
            if (!BlueCatsSDK.isNetworkReachable()){
            }
            if (!BlueCatsSDK.isBluetoothEnabled()){
                //Prompt user to enable bluetooth in settings. If BLE is required for current functionality a modal is recommended.

            }
        })

        return true
    }
</pre></div>
</div>
<p>Once you add your code, paste your App token into
<code class="docutils literal notranslate"><span class="pre">BLueCaTs-Apps-toKN-fRom-webDashBoarD</span></code> from the <a class="reference external" href="https://app.bluecats.com/apps">BlueCats web
app</a></p>
<p>##Some Visual Feedback</p>
<p>We are <em>technically</em> done, but I like visual feedback. Let’s add some
code so that we can see the serial numbers in our terminal.</p>
<p>Paste this code into the ViewController:</p>
<div class="code swift highlight-default notranslate"><div class="highlight"><pre><span></span>class ViewController: UIViewController, BCBeaconManagerDelegate{

    var beaconManager: BCBeaconManager?

    override func viewDidLoad() {
        super.viewDidLoad()

        beaconManager = BCBeaconManager()
        beaconManager!.delegate = self
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }

    func beaconManager(_ monitor: BCBeaconManager!, didRangeBeacons beacons: [BCBeacon]!){
        for currentBeacon in beacons! {
            if let serial = currentBeacon.serialNumber{
                print (&quot;Beacon serial number is \(serial)&quot;)
            }
        }

    }

}
</pre></div>
</div>
<p>The BCBeaconManager allows you to search for all of your beacons.
Unfortunately, Xcode’s simulator does not allow you to test Bluetooth
applications, so we must load it to an actual iOS device.</p>
<ul class="simple">
<li>Connect your iOS device and select it as a target. Once you run the
code on it. You may be prompted to go into Settings &gt; Device
Management &gt; <a class="reference external" href="mailto:your&#37;&#52;&#48;email&#46;com">your<span>&#64;</span>email<span>&#46;</span>com</a> &gt; Click “Trust <a class="reference external" href="mailto:your&#37;&#52;&#48;email&#46;com">your<span>&#64;</span>email<span>&#46;</span>com</a>”</li>
<li>Open your terminal, and you should see some output similar to this.
<img alt="Swift-Serial-Output" src="https://s3-us-west-1.amazonaws.com/github-photos/DeveloperDocs/GettingStartedWithSwift/Swift-Serial-Output.png" /></li>
</ul>
<p>If you do, congratulations! You are now ready to start programming your
BlueCats Swift App!</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installing CocoaPods</a></li>
<li><a class="reference internal" href="#creating-the-objective-c-bridging-header">Creating the Objective-C Bridging Header</a></li>
<li><a class="reference internal" href="#requirements-and-privacy-settings">Requirements and Privacy Settings</a></li>
<li><a class="reference internal" href="#adding-your-swift-code">Adding your Swift Code</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tutorials/getting-started-with-swift.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Ernie Forzano.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/tutorials/getting-started-with-swift.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>